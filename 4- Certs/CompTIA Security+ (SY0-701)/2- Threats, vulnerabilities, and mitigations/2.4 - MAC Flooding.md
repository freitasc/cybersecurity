Tags: [[2.4 - Denial of Service (DoS)]]

## What is it?

- Turning a smart network switch into a "dumb" hub. 
- By doing this, an attacker can "sniff" data that was never intended for their eyes

## Additional Information

- CAM table
	- This is essentially a digital notebook where the switch records which device (MAC address) is plugged into which physical port
	- When a packet comes in for "Computer A," the switch looks at its table, sees Computer A is on Port 1, and sends the data only to Port 1. This is efficient and private.
	- The problem is: ==it is designed to be "fail-open"==
- How the attack works
	- The attacker uses a tool (like macof) to blast the switch with thousands of fake Ethernet frames every second. 
	- Each frame contains a different, randomly generated source MAC address.
	- The switch records every one of these fake addresses in its CAM table. 
	- Within seconds, the table is completely full of garbage data.
	- Once the table is full, the switch has no room to learn where legitimate devices are. 
	- When a new packet arrives, the switch doesn't know which port to send it to. 
	- To ensure the data gets delivered _somewhere_, ==it defaults to **broadcasting** that packet to **every single port**== on the switch.
	- Now that the switch is broadcasting, the attacker can run a packet sniffer and capture the data.
- How to prevent it
	- Limit MACs: You can tell a switch port, "Only allow a maximum of 2 MAC addresses on this port."
	- Sticky MACs: The switch can "memorize" the first MAC address it sees and refuse to talk to any others.
	- Shutdown: If the switch detects a flood or an unknown MAC address, it can be programmed to automatically shut that physical port down and alert the security team.

## Related Notes



## References